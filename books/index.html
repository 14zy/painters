<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta property="og:type"   content="website" /> 
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Попробуйте отгадать 10 художников подряд и победить своих друзей!">
    <meta property="og:description" content="Попробуйте отгадать 10 художников подряд и победить своих друзей!" />
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="image_src" href="http://artchallenge.ru/art-challenge-logo.png">
    <title>Art Challenge - игра на знание популярных художников</title>
    <meta property="og:title" content="Art Challenge - игра на знание популярных художников" />
    <meta property="og:url" content="http://artchallenge.ru/" />
    <meta property="og:image" content="http://artchallenge.ru/art-challenge-logo-facebook.png" />
    <meta property="og:site_name" content="Art Challenge"/>
    
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="js/jquery.pnotify.default.css" media="all" rel="stylesheet" type="text/css" />     

    <script src="js/jquery-1.11.0.min.js" type="text/javascript"></script>
    <script src="js/jquery.pnotify.js" type="text/javascript"></script>   


    

  	<script type="text/javascript" language="javascript">

    $.pnotify.defaults.styling = "bootstrap3";
    
    function putButtons(painter) {
      
      var painters = [painter];

      for (var i=0;i<20;i++) {
        painters.push(randomPainter());
      }
       
      //unique
      painters = painters.reverse().filter(function (e, i, painters) {
         return painters.indexOf(e, i+1) === -1;
      }).reverse(); 

      var buttons = [];
      buttons.push(painters[0]);      
      buttons.push(painters[1]);
      buttons.push(painters[2]);
      buttons.push(painters[3]);     
      
      function shuffle(o){ //v1.0
          for(var j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
          return o;
      };

      shuffle(buttons);
             
      document.getElementById("btn1").innerHTML = buttons[0];
      document.getElementById("btn2").innerHTML = buttons[1];
      document.getElementById("btn3").innerHTML = buttons[2];
      document.getElementById("btn4").innerHTML = buttons[3];
    }
    
    function currentWins() {
      if (getCookie('wins') > 1) {
        document.getElementById("counter").innerHTML = getCookie('wins');
        document.cookie = "wins=; expires=Thu, 01 Jan 1970 00:00:00 GMT";
      }
      window.counter = document.getElementById("counter").innerHTML;
    }
    
    function puticons() {
      for (var i=1; i < window.counter; i++ ) {
          document.getElementById("icon"+i).style.color = "rgb(53,115,45)";                
      } 
    }
    
    function removeUTMs() {
      if (/utm_/.test(location.search) && window.history.replaceState){
 
        // thx @cowboy for the revised hash param magic.
        var oldUrl = location.href;
        var newUrl = oldUrl.replace(/\?([^#]*)/, function(_, search) {
          search = search.split('&').map(function(v) {
            return !/^utm_/.test(v) && v;
          }).filter(Boolean).join('&'); // omg filter(Boolean) so dope.
          return search ? '?' + search : '';
        });
 
        if ( newUrl != oldUrl ) {
          window.history.replaceState({},'', newUrl);
        }
 
      }
    }


    function getart() { 
      
      removeUTMs();
      
      currentWins();

      var LeftPage = document.getElementById("LeftPage");
      var RightPage = document.getElementById("RightPage");

      window.truePainter = Math.floor((Math.random()*4)+1);
      switch (window.truePainter)
      {

      case 1:
        window.image = Math.floor((Math.random()*5)+1);
        
        switch (window.image)
        {

        case 1:
          window.bookname = "Вий";
          window.page1 = Math.floor((Math.random()*49)+1) + 10;
          break;

        case 2:
          window.bookname = "Повести";
          window.page1 = Math.floor((Math.random()*587)+1) + 10;
          break;

        case 3:
          window.bookname = "Ревизор";
          window.page1 = Math.floor((Math.random()*272)+1) + 10;
          break;

        case 4:
          window.bookname = "Мёртвые Души";
          window.page1 = Math.floor((Math.random()*431)+1) + 10;
          break;

        case 5:
          window.bookname = "Мёртвые Души";
          window.page1 = Math.floor((Math.random()*279)+1) + 10;
          break;

        }

        window.page2 = window.page1 + 1;
        LeftPage.src = "https://dl.dropboxusercontent.com/u/15486902/books/" + truePainter + "/" + window.image + "/" + window.page1 + ".jpg"
        RightPage.src = "https://dl.dropboxusercontent.com/u/15486902/books/" + truePainter + "/" + window.image + "/" + window.page2 + ".jpg"
        putButtons('Николай Гоголь');
        window.truePainterName = "Николай Гоголь";
        break;
        
        
      case 2:
        window.image = Math.floor((Math.random()*3)+1);
        switch (window.image)
        {

        case 1:
          window.bookname = "Вишнёвый Сад";
          window.page1 = Math.floor((Math.random()*102)+1) + 10;
          break;

        case 2:
          window.bookname = "Палата №6";
          window.page1 = Math.floor((Math.random()*73)+1) + 10;
          break;

        case 3:
          window.bookname = "Чёрный монах";
          window.page1 = Math.floor((Math.random()*35)+1) + 10;
          break;
        }

        window.page2 = window.page1 + 1;
        LeftPage.src = "https://dl.dropboxusercontent.com/u/15486902/books/" + truePainter + "/" + window.image + "/" + window.page1 + ".jpg"
        RightPage.src = "https://dl.dropboxusercontent.com/u/15486902/books/" + truePainter + "/" + window.image + "/" + window.page2 + ".jpg"
        putButtons('Антон Чехов');
        window.truePainterName = "Антон Чехов";
        break;

        
      case 3:
        window.image = Math.floor((Math.random()*4)+1);
        
        switch (window.image)
        {

        case 1:
          window.bookname = "Преступление и Наказание";
          window.page1 = Math.floor((Math.random()*122)+1);
          break;

        case 2:
          window.bookname = "Идиот";
          window.page1 = Math.floor((Math.random()*93)+1);
          break;

        case 3:
          window.bookname = "Бесы";
          window.page1 = Math.floor((Math.random()*55)+1);
          break;

        case 4:
          window.bookname = "Братья Карамазовы";
          window.page1 = Math.floor((Math.random()*55)+1);
          break;

        }

        window.page2 = window.page1 + 1;
        LeftPage.src = "https://dl.dropboxusercontent.com/u/15486902/books/" + truePainter + "/" + window.image + "/" + window.page1 + ".jpg"
        RightPage.src = "https://dl.dropboxusercontent.com/u/15486902/books/" + truePainter + "/" + window.image + "/" + window.page2 + ".jpg"
        putButtons('Фёдор Достоевский');
        window.truePainterName = "Фёдор Достоевский";
        break;
        
        
      case 4:
        window.image = Math.floor((Math.random()*7)+1);
        
        switch (window.image)
        {

        case 1:
          window.bookname = "Исповедь";
          window.page1 = Math.floor((Math.random()*79)+1) + 10;
          break;

        case 2:
          window.bookname = "Война и Мир";
          window.page1 = Math.floor((Math.random()*795)+1) + 10;
          break;

        case 3:
          window.bookname = "Война и Мир";
          window.page1 = Math.floor((Math.random()*791)+1) + 10;
          break;

        case 4:
          window.bookname = "Война и Мир";
          window.page1 = Math.floor((Math.random()*658)+1) + 10;
          break;

        case 5:
          window.bookname = "Война и Мир";
          window.page1 = Math.floor((Math.random()*572)+1) + 10;
          break;

        case 6:
          window.bookname = "Анна Каренина";
          window.page1 = Math.floor((Math.random()*869)+1) + 10;
          break;

        case 7:
          window.bookname = "Анна Каренина";
          window.page1 = Math.floor((Math.random()*827)+1) + 10;
          break;

        }

        window.page2 = window.page1 + 1;
        LeftPage.src = "https://dl.dropboxusercontent.com/u/15486902/books/" + truePainter + "/" + window.image + "/" + window.page1 + ".jpg"
        RightPage.src = "https://dl.dropboxusercontent.com/u/15486902/books/" + truePainter + "/" + window.image + "/" + window.page2 + ".jpg"
        putButtons('Лев Толстой');
        window.truePainterName = "Лев Толстой";
        break;
        
      }

      puticons();
    }

    
    function winner() {
      $.pnotify({
          title: 'Поздравляем!',
          text: 'Вы великолепно разбираетесь в искусcтве!<br>10 из 10 – это лучше, чем 82% людей, игравших в эту игру!' + "<br><br><img style='margin-left: 15px;' width='250px'  src='winner-badge.png'><br><br><text style='font-size: 16px;'>Вы можете поделиться медалью в социальных сетях:<br><a onclick='ShareVK();' href='#'> <span class='glyphicon glyphicon-share-alt'></span> ВКонтакте </a><br><a onclick='ShareFB();' href='#'><span class='glyphicon glyphicon-share-alt'></span> Facebook </a><br><a onclick='ShareOD();' href='#'><span class='glyphicon glyphicon-share-alt'></span> Одноклассники </a><br><a onclick='ShareMM();' href='#'><span class='glyphicon glyphicon-share-alt'></span> Мой Мир </a></text>",
          type: 'note',
          hide: false,
          closer: false,
          animate_speed: "normal",
          sticker: false,
          icon: "glyphicon glyphicon-thumbs-up",
          history: false          
      });
      yaCounter24594722.reachGoal('WINNER');
      document.getElementById("icon10").style.color = "rgb(53,115,45)";                
    }

    
    function ShareVK() {
      yaCounter24594722.reachGoal('WINNER-SHARE-VK');
      url = "http://vk.com/share.php?url=http://artchallenge.ru/?utm_source=vk-win" + "&title=Господа, я отлично разбираюсь в искусстве!&description=Попробуйте отгадать 10 художников подряд и посоревноваться со мной!&image=http://artchallenge.ru/art-challenge-winner1.png";
      window.open(url,'targetWindow','toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=604,height=401');
    }        
    
    function ShareFB() {
      yaCounter24594722.reachGoal('WINNER-SHARE-FB');
      
      url = "https://www.facebook.com/dialog/feed?app_id=478531102278887&display=popup&link=http://artchallenge.ru/?utm_source=fb-win&redirect_uri=http://artchallenge.ru/&picture=http://artchallenge.ru/winner-badge200.png&source=http://artchallenge.ru/winner-badge200.png&name=Господа, я отлично разбираюсь в искусстве!&caption=Art Challenge - игра на знание популярных художников"
      
      window.open(url,'targetWindow','toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=604,height=401');
    }        

    function ShareOD() {
      yaCounter24594722.reachGoal('WINNER-SHARE-OD');
      url = "http://www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1&st.comments=Господа, я отлично разбираюсь в искусстве!&st._surl=http://artchallenge.ru/?utm_source=od-win";
      
      window.open(url,'targetWindow','toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=604,height=401');
    }        

    function ShareMM() {
      yaCounter24594722.reachGoal('WINNER-SHARE-MM');
      url = "http://connect.mail.ru/share?url=http://artchallenge.ru/?utm_source=mm-win&title=Господа, я отлично разбираюсь в искусстве!&description=Art Challenge - игра на знание популярных художников";
      window.open(url,'targetWindow','toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=604,height=401');
    }        

    
    function randomPainter() {
      switch (Math.floor((Math.random()*4)+1))
      {
      case 1:
        painterName = "Николай Гоголь";
        break;
        
      case 2:
        painterName = "Антон Чехов";
        break;
        
      case 3:
        painterName = "Фёдор Достоевский";
        break;
        
      case 4:
        painterName = "Лев Толстой";
        break;
      }

      return painterName;
    }
    
    function retry(){
      yaCounter24594722.reachGoal('AGAIN-CLICK');
      location.reload(false);
    }
    
    
    function checkAnswer(btn) { 
    var answer = document.getElementById(btn).innerHTML;

    yaCounter24594722.reachGoal('ANSWER-CLICK');
    
    if (answer == window.truePainterName) {
 
      document.getElementById("btn1").onclick = function() { void(0);};
      document.getElementById("btn2").onclick = function() { void(0);};
      document.getElementById("btn3").onclick = function() { void(0);};
      document.getElementById("btn4").onclick = function() { void(0);};
      document.getElementById(btn).style.background = "blue";
      document.getElementById(btn).style.borderColor = "blue";      

      var wins = parseInt(window.counter);
            
      if (wins == 10) {
        winner();
      }
      
      else {
      wins = 1 + wins;
      setCookie('wins',wins,"session");    
      setTimeout(function() {location.reload(false)}, 3000)
      
      $.pnotify({
          title: 'Верно!',
          text: "Это " + window.bookname + ".<br>Вы отгадали " + parseInt(window.counter) + " книгу.",
          type: 'success',
          hide: false,
          closer: false,
          animate_speed: "normal",
          sticker: false,
          history: false          
      });
      yaCounter24594722.reachGoal('WIN');
      }
      
    }

    else {

      setTimeout(function() {location.reload(false)}, 4000)
      
      $.pnotify({
          title: badPhrase(),
          text:  "Это же " + window.truePainterName + " - " + window.bookname + ".<br><br><img src='" + "https://dl.dropboxusercontent.com/u/15486902/books/" + window.truePainter + "/photo.jpg' style='width: 100px;'><br><br><a style='cursor: pointer;' onclick='retry();'>Попробовать еще раз</a>",
          type: 'error',
          icon: 'glyphicon glyphicon-remove',
          hide: false,
          closer: false,
          animate_speed: "normal",
          sticker: false,
          history: false
      });
      
      
      yaCounter24594722.reachGoal('FAIL');
      
      document.cookie = "wins=; expires=Thu, 01 Jan 1970 00:00:00 GMT";

      document.getElementById("btn1").onclick = function() { location.reload(); };
      document.getElementById("btn2").onclick = function() { location.reload(); };
      document.getElementById("btn3").onclick = function() { location.reload(); };
      document.getElementById("btn4").onclick = function() { location.reload(); };
      document.getElementById("art").onclick = function() { location.reload(); };
      document.getElementById(btn).style.background = "red";
      document.getElementById(btn).style.borderColor = "red";

    }
      
    }
        
    function setCookie(cname,cvalue,exdays)
    {
    var d = new Date();
    d.setTime(d.getTime()+(exdays*24*60*60*1000));
    var expires = "expires="+d.toGMTString();
    document.cookie = cname + "=" + cvalue + "; " + expires;
    }
    
    function getCookie(cname)
    {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for(var i=0; i<ca.length; i++) 
      {
      var c = ca[i].trim();
      if (c.indexOf(name)==0) return c.substring(name.length,c.length);
      }
    return "";
    }    
        
    function badPhrase() {
      
      switch (Math.floor((Math.random()*10)+1))
      {
      case 1:
        phrase = "Да Вы ебанулись!";
        break;
        
      case 2:
        phrase = "Ну как не стыдно?";
        break;

      case 3:
        phrase = "Вам нездоровится?";
        break;
        
      case 4:
        phrase = "Что за нелепость?";
        break;
        
      case 5:
        phrase = "Займитесь самообразованием!";
        break;

      case 6:
        phrase = "Как Вы могли?..";
        break;

      case 7:
        phrase = "Нет, нет и нет!";
        break;

      case 8:
        phrase = "Одумайтесь!";
        break;

      case 9:
        phrase = "А если подумать?";
        break;

      case 10:
        phrase = "Какого чёрта?!";
        break;
      }

      return phrase;      
    }
    
    function report() {
      yaCounter24594722.reachGoal('REPORT');
    document.getElementById("report").innerHTML = "Спасибо, мы проверим!";
    document.getElementById("report").onclick = function() { void(0);};
    
    $.ajax({
      type: "POST",
      url: "https://mandrillapp.com/api/1.0/messages/send.json",
      data: {
        'key': 'pyL7NQYaVCP7PkkLq0BnSQ',
        'message': {
          'from_email': 'REPORT@art-challenge.com',
          'to': [
              {
                'email': 'just14zy@gmail.com',
                'name': 'RECIPIENT NAME (OPTIONAL)',
                'type': 'to'
              }
            ],
          'autotext': 'true',
          'subject': 'Пользователь пожаловался на книгу',
          'html': "Братан, с " + window.truePainterName + " там какие-то траблы, посмотри: " + window.truePainter + "/" + window.image + "/" + window.page1
        }
      }
     }).done(function(response) {
       console.log(response); // if you're into that sorta thing
     });
    }
    
    
    
    function nextPage() {
      window.page1 = window.page1 + 2;
      window.page2 = window.page2 + 2;
      document.getElementById("LeftPage").src = "https://dl.dropboxusercontent.com/u/15486902/books/" + window.truePainter + "/" + window.image + "/" + window.page1 + ".jpg";
      document.getElementById("RightPage").src = "https://dl.dropboxusercontent.com/u/15486902/books/" + window.truePainter + "/" + window.image + "/" + window.page2 + ".jpg";
    }

    function prevPage() {
      window.page1 = window.page1 - 2;
      window.page2 = window.page2 - 2;
      document.getElementById("LeftPage").src = "https://dl.dropboxusercontent.com/u/15486902/books/" + window.truePainter + "/" + window.image + "/" + window.page1 + ".jpg";
      document.getElementById("RightPage").src = "https://dl.dropboxusercontent.com/u/15486902/books/" + window.truePainter + "/" + window.image + "/" + window.page2 + ".jpg";
    }

    
    </script>



  </head>

  <body onload="getart();">

    <div class="container">
      <div class="header">
        <ul class="nav nav-pills pull-right">
          <div id="top-share" style="margin-top: 4px;" class="yashare-auto-init" data-yashareL10n="ru"
           data-yashareQuickServices="vkontakte,facebook,twitter,odnoklassniki,moimir" data-yashareTheme="counter"></div> 
        </ul>

        <a href="http://www.artchallenge.ru"><h3 class="text-muted"><span class="glyphicon glyphicon-book"></span> Book Challenge</h3></a>
      </div>
      <br>


      <div style="text-align: center">

          <br>
         <span style="visibility: hidden" id="counter">1</span>
         <span id="icon1" style="color: lightgray; font-size: 20px;" class="glyphicon glyphicon-ok-sign"></span>
         <span id="icon2" style="color: lightgray; font-size: 20px;" class="glyphicon glyphicon-ok-sign"></span>
         <span id="icon3" style="color: lightgray; font-size: 20px;" class="glyphicon glyphicon-ok-sign"></span>
         <span id="icon4" style="color: lightgray; font-size: 20px;" class="glyphicon glyphicon-ok-sign"></span>
         <span id="icon5" style="color: lightgray; font-size: 20px;" class="glyphicon glyphicon-ok-sign"></span>
         <span id="icon6" style="color: lightgray; font-size: 20px;" class="glyphicon glyphicon-ok-sign"></span>
         <span id="icon7" style="color: lightgray; font-size: 20px;" class="glyphicon glyphicon-ok-sign"></span>
         <span id="icon8" style="color: lightgray; font-size: 20px;" class="glyphicon glyphicon-ok-sign"></span>
         <span id="icon9" style="color: lightgray; font-size: 20px;" class="glyphicon glyphicon-ok-sign"></span>
         <span id="icon10" style="color: lightgray; font-size: 24px;" class="glyphicon glyphicon-gift"></span>
         <br><br>
        
      </div>

      <div style="text-align: center">
      
          <div id="prev" onclick="prevPage();" class="arrow">‹</div>
          <div id="area">
            <img id="LeftPage" class="page" width="500">            
            <img id="RightPage" style="margin-left: -10px;" class="page" width="500">
          </div>
          <div id="next" onclick="nextPage();" class="arrow">›</div>
      

        <br><br>
        <a id ="btn1" onclick="checkAnswer('btn1');" class="btn btn-lg btn-success"  role="button"></a>
        <a id ="btn2" onclick="checkAnswer('btn2');" class="btn btn-lg btn-success"  role="button"></a>
        <a id ="btn3" onclick="checkAnswer('btn3');" class="btn btn-lg btn-success"  role="button"></a>
        <a id ="btn4" onclick="checkAnswer('btn4');" class="btn btn-lg btn-success"  role="button"></a>
        
        <br><br><a id="report" title="Сообщить о проблеме" style="color: lightgray; cursor: pointer;" onclick="report();"><span class="glyphicon glyphicon-warning-sign"></span></a><br><br>

        
      </div>
      
      
      
      

      <div class="row marketing">
        <div class="col-lg-8">

          <h3>Что здесь происходит?</h3>
          <p>Вам предлагается развлечь себя игрой на знание истории изобразительного искусства.</p>

          <h3>Как это работает?</h3>
          <p>Нужно отгадывать авторов картин.<br>Побеждают те господа, которые смогут отгадать 10 картин подряд.</p>
          
          <h3>Какая от этого польза?</h3>
          <p>Играйте в свободное время, и очень скоро Вы без труда будете отличать<br>Клода Моне от Эдгара Мане с первого взгляда, и уж точно от Альфреда Сислея)</p>

          <h3>Чем я могу помочь?</h3>
          Если Вам понравился сайт, будьте так любезны, расскажите о нём друзьям:<br>

          <div style="margin-left: -5px;" class="yashare-auto-init" data-yashareL10n="ru"
           data-yashareQuickServices="vkontakte,facebook,twitter,odnoklassniki,moimir" data-yashareTheme="counter" data-yashareImage="http://artchallenge.ru/art-challenge-logo.png"></div> 

        </div>
      </div>        

      <br>
      <div class="footer">
        <p>&copy; Сайт создан <a href="https://vk.com/just14zy" onclick="yaCounter24594722.reachGoal('RUBEN-CLICK'); return true;"><img style="margin-bottom: 7px;" height="20px;" width="20px;" src="https://pp.vk.me/c9682/u10063679/e_b7c0d17c.jpg">Рубеном</a> и <a href="https://vk.com/id9755975" onclick="yaCounter24594722.reachGoal('ANNA-CLICK'); return true;"><img style="margin: 0 3px 4px 0;" height="18px;" width="18px;" src="https://pp.vk.me/c322816/v322816975/bd15/qTopJ88cvh0.jpg">Анной</a> в 2014 году.<br>Пишите нам, если у Вас есть “отзывы и предложения” или по любому другому поводу.</p>
      </div>
    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

          <script type="text/javascript" src="http://yandex.st/share/share.js"
          charset="utf-8"></script>
    
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter24594722 = new Ya.Metrika({id:24594722,
                        webvisor:true,
                        clickmap:true,
                        trackLinks:true,
                        accurateTrackBounce:true});
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
    </script>
    <noscript><div><img src="//mc.yandex.ru/watch/24594722" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
  </body>
</html>