<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.ico">
    <script src="js/jquery-1.11.0.min.js" type="text/javascript"></script>
    <script src="js/jquery.pnotify.js" type="text/javascript"></script>   
    <link href="js/jquery.pnotify.default.css" media="all" rel="stylesheet" type="text/css" /> 

    <script type="text/javascript">
    $.pnotify.defaults.styling = "bootstrap3";
    </script> 

  	<script type="text/javascript" language="javascript">
    
    function putButtons(painter) {
      
      var painters = [painter];

      for (var i=0;i<10;i++) {
        painters.push(randomPainter());
      }
       
      //unique
      painters = painters.reverse().filter(function (e, i, painters) {
         return painters.indexOf(e, i+1) === -1;
      }).reverse(); 

      var buttons = [];
      buttons.push(painters[0]);      
      buttons.push(painters[1]);
      buttons.push(painters[2]);
      buttons.push(painters[3]);     
      
      function shuffle(o){ //v1.0
          for(var j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
          return o;
      };

      shuffle(buttons);
             
      document.getElementById("btn1").innerHTML = buttons[0];
      document.getElementById("btn2").innerHTML = buttons[1];
      document.getElementById("btn3").innerHTML = buttons[2];
      document.getElementById("btn4").innerHTML = buttons[3];
    }
    
    function currentWins() {
      
      
      
      if (getCookie('wins') > 1) {
        document.getElementById("counter").innerHTML = getCookie('wins');
        document.cookie = "wins=; expires=Thu, 01 Jan 1970 00:00:00 GMT";
      }
      
      window.counter = document.getElementById("counter").innerHTML;
      
    }
    
    function getart() { 
      
      currentWins();
      
      var art = document.getElementById("art");

      var truePainter = Math.floor((Math.random()*11)+1);

      if (truePainter == 1) {
        var image = Math.floor((Math.random()*96)+1);
        art.src = "https://dl.dropboxusercontent.com/u/15486902/painters/" + truePainter + "/" + image + ".jpg"
        putButtons('Амедео Модильяни');
        window.truePainterName = "Амедео Модильяни";
      }

      if (truePainter == 2) {
        var image = Math.floor((Math.random()*119)+1);
        art.src = "https://dl.dropboxusercontent.com/u/15486902/painters/" + truePainter + "/" + image + ".jpg"
        putButtons('Анри Лебаск');
        window.truePainterName = "Анри Лебаск";
      }

      if (truePainter == 3) {
        var image = Math.floor((Math.random()*180)+1);
        art.src = "https://dl.dropboxusercontent.com/u/15486902/painters/" + truePainter + "/" + image + ".jpg"
        putButtons('Архип Куинджи');
        window.truePainterName = "Архип Куинджи";
      }

      if (truePainter == 4) {
        var image = Math.floor((Math.random()*93)+1);
        art.src = "https://dl.dropboxusercontent.com/u/15486902/painters/" + truePainter + "/" + image + ".jpg"
        putButtons('Василий Кандинский');
        window.truePainterName = "Василий Кандинский";
      }

      if (truePainter == 5) {
        var image = Math.floor((Math.random()*165)+1);
        art.src = "https://dl.dropboxusercontent.com/u/15486902/painters/" + truePainter + "/" + image + ".jpg"
        putButtons('Василий Суриков');
        window.truePainterName = "Василий Суриков";
      }

      if (truePainter == 6) {
        var image = Math.floor((Math.random()*77)+1);
        art.src = "https://dl.dropboxusercontent.com/u/15486902/painters/" + truePainter + "/" + image + ".jpg"
        putButtons('Виктор Борисов-Мусатов');
        window.truePainterName = "Виктор Борисов-Мусатов";
      }

      if (truePainter == 7) {
        var image = Math.floor((Math.random()*72)+1);
        art.src = "https://dl.dropboxusercontent.com/u/15486902/painters/" + truePainter + "/" + image + ".jpg"
        putButtons('Диего Ривера');
        window.truePainterName = "Диего Ривера";
      }

      if (truePainter == 8) {
        var image = Math.floor((Math.random()*413)+1);
        art.src = "https://dl.dropboxusercontent.com/u/15486902/painters/" + truePainter + "/" + image + ".jpg"
        putButtons('Иван Шишкин');
        window.truePainterName = "Иван Шишкин";
      }

      if (truePainter == 9) {
        var image = Math.floor((Math.random()*72)+1);
        art.src = "https://dl.dropboxusercontent.com/u/15486902/painters/" + truePainter + "/" + image + ".jpg"
        putButtons('Клод Моне');
        window.truePainterName = "Клод Моне";
      }

      if (truePainter == 10) {
        var image = Math.floor((Math.random()*181)+1);
        art.src = "https://dl.dropboxusercontent.com/u/15486902/painters/" + truePainter + "/" + image + ".jpg"
        putButtons('Константин Юон');
        window.truePainterName = "Константин Юон";
      }

      if (truePainter == 11) {
        var image = Math.floor((Math.random()*204)+1);
        art.src = "https://dl.dropboxusercontent.com/u/15486902/painters/" + truePainter + "/" + image + ".jpg"
        putButtons('Николай Рерих');
        window.truePainterName = "Николай Рерих";
      }
    }
    
    
    function winner() {
      alert('Победитель!');
    }
    
    function randomPainter() {
      switch (Math.floor((Math.random()*11)+1))
      {
      case 1:
        painterName = "Амедео Модильяни";
        break;
        
      case 2:
        painterName = "Анри Лебаск";
        break;
        
      case 3:
        painterName = "Архип Куинджи";
        break;
        
      case 4:
        painterName = "Василий Кандинский";
        break;
        
      case 5:
        painterName = "Василий Суриков";
        break;
        
      case 6:
        painterName = "Виктор Борисов-Мусатов";
        break;
        
      case 7:
        painterName = "Диего Ривера";
        break;
        
      case 8:
        painterName = "Иван Шишкин";
        break;
        
      case 9:
        painterName = "Клод Моне";
        break;
        
      case 10:
        painterName = "Константин Юон";
        break;

      case 11:
        painterName = "Николай Рерих";
        break;
      }

      return painterName;
    }
    
    
    function checkAnswer(btn) { 
    var answer = document.getElementById(btn).innerHTML;

    if (answer == window.truePainterName) {
      
      
      
      
      
      document.getElementById("btn1").onclick = function() { void(0);};
      document.getElementById("btn2").onclick = function() { void(0);};
      document.getElementById("btn3").onclick = function() { void(0);};
      document.getElementById("btn4").onclick = function() { void(0);};
      document.getElementById(btn).style.background = "blue";
      document.getElementById(btn).style.borderColor = "blue";      

      var wins = parseInt(window.counter);
      
      if (wins < 1) {
        wins = 1;
        setCookie('wins',wins,"session");    
        setTimeout(function() {location.reload()}, 2000)

        $.pnotify({
            title: 'Молодец!',
            text: 'Вы переходите на следующий уровень',
            type: 'success',
            hide: false,
            closer: false,
            animate_speed: "normal",
            sticker: false          
        });


      }
      
      else if (wins == 10) {
        winner();
      }
      
      else {
      wins = 1 + wins;
      setCookie('wins',wins,"session");    
      setTimeout(function() {location.reload()}, 2000)
      
      $.pnotify({
          title: 'Молодец!',
          text: 'Вы переходите на следующий уровень',
          type: 'success',
          hide: false,
          closer: false,
          animate_speed: "normal",
          sticker: false          
      });
      

      }
      

      //location.reload();
    }

        
    else {
      $.pnotify({
          title: badPhrase(),
          text:  "Это же " + window.truePainterName + "<br><a href='index.html'>Начать заново</a>",
          type: 'error',
          icon: 'glyphicon glyphicon-remove',
          hide: false,
          closer: false,
          animate_speed: "normal",
          sticker: false
      });
      
      document.cookie = "wins=; expires=Thu, 01 Jan 1970 00:00:00 GMT";

      document.getElementById("btn1").onclick = function() { location.reload(); };
      document.getElementById("btn2").onclick = function() { location.reload(); };
      document.getElementById("btn3").onclick = function() { location.reload(); };
      document.getElementById("btn4").onclick = function() { location.reload(); };
      document.getElementById("art").onclick = function() { location.reload(); };
      document.getElementById(btn).style.background = "red";
      document.getElementById(btn).style.borderColor = "red";

      // document.getElementById("btn1").style.background = "gray";
//       document.getElementById("btn2").style.background = "gray";
//       document.getElementById("btn3").style.background = "gray";
//       document.getElementById("btn4").style.background = "gray";
// 
//       document.getElementById("btn1").style.opacity = "0.5";
//       document.getElementById("btn2").style.opacity = "0.5";
//       document.getElementById("btn3").style.opacity = "0.5";
//       document.getElementById("btn4").style.opacity = "0.5";

      
      //setTimeout(function() {location.reload()}, 3000)
      //location.reload();
    }
      
    }

    function css(selector, property, value) {
        for (var i=0; i<document.styleSheets.length;i++) {//Loop through all styles
            //Try add rule
            try { document.styleSheets[i].insertRule(selector+ ' {'+property+':'+value+'}', document.styleSheets[i].cssRules.length);
            } catch(err) {try { document.styleSheets[i].addRule(selector, property+':'+value);} catch(err) {}}//IE
        }
        
        //  use it like this: onclick="css('#art', 'width', 'auto');"
    }
    
    function img() {
      alert(document.getElementById('art').width);
    }
    
    function setCookie(cname,cvalue,exdays)
    {
    var d = new Date();
    d.setTime(d.getTime()+(exdays*24*60*60*1000));
    var expires = "expires="+d.toGMTString();
    document.cookie = cname + "=" + cvalue + "; " + expires;
    }
    
    function getCookie(cname)
    {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for(var i=0; i<ca.length; i++) 
      {
      var c = ca[i].trim();
      if (c.indexOf(name)==0) return c.substring(name.length,c.length);
      }
    return "";
    }
    
        
    function badPhrase() {
      
      switch (Math.floor((Math.random()*7)+1))
      {
      case 1:
        phrase = "Да Вы ебанулись!";
        break;

      case 2:
        phrase = "Да блядь!";
        break;        
        
      case 3:
        phrase = "Вы здоровы?";
        break;
        
      case 4:
        phrase = "Что за нелепость?";
        break;
        
      case 5:
        phrase = "Займитесь своим самообразованием!";
        break;

      case 6:
        phrase = "Ну как не стыдно?";
        break;

      }

      return phrase;
      
      
    }
    
    </script>


    <title >Это Кандинский?</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
  </head>

  <body onload="getart()">

    <div class="container">
      <div class="header">
        <ul class="nav nav-pills pull-right">
          <li class="active"><a href="#">Главная</a></li>
          <li><a href="#">Доска почёта</a></li>

        </ul>
        
        
        
        <h3 class="text-muted">Это Кандинский?</h3>
      </div>
      <br>


      <div style="text-align: center">
        <div id="corner" class="panel panel-default">

         <h3><span id="counter">1</span> из 10</h3><br>
          <img id="art" style="max-height: 600px; max-width: 1000px;">
          <br>



        
        <!--<h3 style="padding-bottom: 10px;">Нет, это:</h3>--><br>

        <a id ="btn1" onclick="checkAnswer('btn1');" class="btn btn-lg btn-success"  role="button"></a>
        <a id ="btn2" onclick="checkAnswer('btn2');" class="btn btn-lg btn-success"  role="button"></a>
        <a id ="btn3" onclick="checkAnswer('btn3');" class="btn btn-lg btn-success"  role="button"></a>
        <a id ="btn4" onclick="checkAnswer('btn4');" class="btn btn-lg btn-success"  role="button"></a>
        <br><br><br>
        <!-- <div class="panel-heading">ВРОНГ</div> -->
        </div>
        
      </div>
      <br>
      <div class="row marketing">
        <div class="col-lg-6">

          <h4>Что тут происходит?</h4>
          <p>Молодежь меряется пиписьками в области искуствоведения</p>

          <h4>Какого хрена?</h4>
          <p>А чо такое?</p>

          <h4>Как я могу помочь?</h4>
          <p>Будьте так добры - зашарьте этот сайт в социальных сетях</p>
        </div>

      </div>
<br>
      <div class="footer">
        <a href="http://vk.com/just14zy"><p>&copy; 14zy 2014</p></a>
      </div>

    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
  </body>
</html>
